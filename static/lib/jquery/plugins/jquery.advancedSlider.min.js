(function(i){function Cb(Z,U){function $(){m=o.find(".slides");if(a.settings.shuffle){var b=m.children();m.find(".slide").each(function(e){i(this).attr("data-index",e)});b=b.sort(function(){return 0.5-Math.random()});m.empty().append(b)}m.children().each(function(e,d){var g={},h=a.settings.shuffle?parseInt(i(d).data("index")):e;g.properties={};A.push(i(this));if(i(this).data("image")){g.lazyImage=i(this).data("image");g.lazyImageLoaded=false}for(var c=0;c<i(this).children().length;c++){var f=i(this).children()[c];
if(i(f).hasClass("thumbnail")||i(f).is("a")&&i(f).children("img.thumbnail").length)g.thumbnail=i(f).clone();else g[i(f).attr("class")]=i(f)}if(!g.caption&&i(this).find(".caption").length)g.caption=i(this).find(".caption");if(!g.html&&i(this).find(".html").length)g.html=i(this).find(".html");if(a.settings.xmlSource){g.properties=y[h].properties;y[e]=g}else{for(c=0;c<Da.length;c++){f=Da[c];var j;if(a.settings.slideProperties)if(a.settings.slideProperties[h])j=a.settings.slideProperties[h][f];g.properties[f]||
(g.properties[f]=j==undefined?a.settings[f]:j)}y.push(g)}});if(w){m.find("img.thumbnail").parent("a").css("display","none");m.find("img.thumbnail").css("display","none");window.onload=function(){m.find("img.thumbnail").parent("a").remove();m.find("img.thumbnail").remove()}}else{m.find("img.thumbnail").parent("a").remove();m.find("img.thumbnail").remove()}G=y.length;Db()}function Db(){o.addClass(a.settings.skin).css({width:a.settings.width,height:a.settings.height}).focus(function(){va=true;o.addClass("focus")}).blur(function(){va=
false;o.hasClass("focus")&&o.removeClass("focus")});J=i('<div class="slider-main"></div>').appendTo(o);if(i.browser.mozilla)o.addClass("mozilla");else if(i.browser.webkit)o.addClass("webkit");else if(i.browser.opera)o.addClass("opera");else if(i.browser.msie)if(parseInt(i.browser.version)==6)o.addClass("ie6");else if(parseInt(i.browser.version)==7)o.addClass("ie7");else if(parseInt(i.browser.version)==8)o.addClass("ie8");else parseInt(i.browser.version)==9&&o.addClass("ie9");u=i('<div class="slide-wrapper"></div>').append(m).appendTo(J).hover(function(){V=
true;if(a.settings.timerAnimation&&a.settings.timerToggle&&N!="stopped"&&!L){var d=o.find(".timer-animation");w?d.css("filter",""):d.stop().animate({opacity:1},a.settings.timerFadeDuration)}if(wa&&a.settings.lightboxIconToggle){d=u.find(".lightbox-icon");w?d.css("filter",""):d.stop().animate({opacity:1},a.settings.lightboxIconFadeDuration)}a.settings.pauseSlideshowOnHover&&!K&&ha();ia&&a.settings.captionToggle&&hb();if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?o.find(".slide-arrows a").stop().show():
o.find(".slide-arrows a").stop().animate({opacity:1},a.settings.slideArrowsShowDuration);if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?o.find(".slideshow-controls").stop().show():o.find(".slideshow-controls").stop().animate({opacity:1},a.settings.slideshowControlsShowDuration);a.settings.autoToggle&&ib()},function(){V=false;a.settings.autoToggle&&jb();if(a.settings.timerAnimation&&a.settings.timerToggle&&N!="stopped"&&!L){var d=o.find(".timer-animation");w?d.css("opacity",
0):d.stop().animate({opacity:0},a.settings.timerFadeDuration)}if(wa&&a.settings.lightboxIconToggle){d=u.find(".lightbox-icon");w?d.css("opacity",0):d.stop().animate({opacity:0},a.settings.lightboxIconFadeDuration)}a.settings.pauseSlideshowOnHover&&!pa&&!Wa&&!K&&qa();ia&&a.settings.captionToggle&&Xa();if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?o.find(".slide-arrows a").stop().hide():o.find(".slide-arrows a").stop().animate({opacity:0},a.settings.slideArrowsHideDuration);if(a.settings.slideshowControls&&
a.settings.slideshowControlsToggle)w?o.find(".slideshow-controls").stop().hide():o.find(".slideshow-controls").stop().animate({opacity:0},a.settings.slideshowControlsHideDuration)});a.settings.effectType=="swipe"&&i('<div class="swipeable-container"></div>').appendTo(u).append(m);m.find(".slide").each(function(d){var g=i(this),h=g.find("img.image");g=g.find(".caption");var c=y[d],f=c.properties;if(h.length){h.data("index",d);c.imagePath=h.attr("src")}if(g.length){d=parseFloat(f.captionBackgroundOpacity);
h=f.captionBackgroundColor;f=i('<div class="caption-container"></div>').appendTo(g.parent());f=i('<div class="wrapper"></div>').appendTo(f);i('<div class="background"></div>').css({opacity:d,"background-color":h}).appendTo(f);g.appendTo(f)}});m.find(".html video.video").each(function(){var d=i(this),g=d.parent();if(Eb){var h=d[0].outerHTML;d.remove();g.html(h);d=g.find("video");d[0].load()}d.hasClass("video-js")&&VideoJS(d.attr("id"),d.data("video"))});m.find(".html video.sublime-video").length&&
window.sublimevideo&&sublimevideo.ready(function(){m.find(".html video.sublime-video").each(function(){sublimevideo.prepare(i(this).attr("id"))})});ra=a.settings.slideStart;var b=window.location.hash;if(b){b=b.substring(1);var e=b.split("-");e=parseInt(e.pop());b=b.replace("-"+e,"");if(o.attr("id")==b&&e>=0&&e<=G-1)ra=e}a.settings.slideArrows&&Fb();a.settings.slideButtons&&Gb();a.settings.shadow&&Hb();if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")Ib();a.settings.slideshowControls&&
Jb();a.settings.keyboardNavigation&&Kb();a.settings.fullscreenControls&&Lb();a.settings.lightbox&&o.find("a[rel^='slider-lightbox']").prettyPhoto({social_tools:"",deeplinking:false,overlay_gallery:false,theme:a.settings.lightboxTheme,opacity:a.settings.lightboxOpacity,openLightbox:function(){if(!pa){pa=true;o.blur();K||ha()}},callback:function(){if(pa){pa=false;o.focus();K||qa()}}});if((a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")&&(a.settings.thumbnailMouseScroll||
a.settings.thumbnailTooltip||a.settings.thumbnailScrollbar)||a.settings.autoToggle)i(document).bind("mousemove",function(d){aa=d.pageX;ba=d.pageY;Ya=aa+ba});ja="none";Ea();sa(ra);i(window).resize(Ea)}function Ea(){var b=0,e=0;a.settings.aspectRatio!=-1&&o.css("height",o.width()/a.settings.aspectRatio);if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")if(a.settings.fullscreenThumbnailScrollerOverlay&&ka=="on")if(a.settings.thumbnailOrientation=="horizontal")J.css("height",
o.height());else a.settings.thumbnailOrientation=="vertical"&&J.css("width",o.width());else if(!a.settings.thumbnailScrollerOverlay)if(a.settings.thumbnailOrientation=="horizontal")J.css("height",o.height()-v.outerHeight(true));else a.settings.thumbnailOrientation=="vertical"&&J.css("width",o.width()-v.outerWidth(true));if(a.settings.shadow){var d=J.find(".shadow");if(ka=="on"&&!a.settings.fullscreenShadow||J.width()<400)d.css("display","none");else{d.css("display","block");var g=d.find(".shadow-middle"),
h=d.find(".shadow-left").width()+d.find(".shadow-right").width(),c=parseInt(d.css("height"))+parseInt(d.css("margin-top"));d.css("width",J.width());g.css("width",d.width()-h);b=c>b?c:b}}if(a.settings.slideButtons){d=J.find(".slide-buttons");if(!d.data("width")){d.data("width",parseInt(d.css("width")));d.data("height",parseInt(d.css("height")))}c=d.find("buttons-middle");g=c.find("buttons-inner");d.css("width",parseInt(d.data("width")));d.css("height",parseInt(d.data("height")));h=parseInt(d.css("height"))+
parseInt(d.css("margin-top"));d.css("left",0);if(a.settings.slideButtonsCenter){c=(c.width()-g.width())/2;g.css("left",c)}if(a.settings.slideButtonsContainerCenter){c=(J.width()-d.width())/2;d.css("left",c)}if(ka=="on"&&!a.settings.fullscreenSlideButtons)d.css("display","none");else{d.css("display","block");b=h>b?h:b}}kb=b;b+=parseInt(u.css("border-top-width"))+parseInt(u.css("border-bottom-width"));e+=parseInt(u.css("border-left-width"))+parseInt(u.css("border-right-width"));u.css({height:J.height()-
b,width:J.width()-e});lb=u.width();mb=u.height();m.find(".slide").each(function(f){var j=i(this),r=j.find("img.image"),n=y[f].properties.alignType;if(r.length)if(r[0].complete||r[0].readyState=="complete")da(r,n);else{r.css("visibility","hidden");r.load(function(){r.css("visibility","");da(r,n)})}if(a.settings.effectType=="swipe"){var q=s!=-1?s:ra;if(a.settings.swipeOrientation=="horizontal"){m.css("left",-q*(m.width()+a.settings.swipeSlideDistance));j.css("left",f*(m.width()+a.settings.swipeSlideDistance))}else if(a.settings.swipeOrientation==
"vertical"){m.css("top",-q*(m.height()+a.settings.swipeSlideDistance));j.css("top",f*(m.height()+a.settings.swipeSlideDistance))}}});if((a.settings.thumbnailType=="tooltipAndScroller"||a.settings.thumbnailType=="scroller")&&a.settings.scaleType!="proportionalFit"){Za();xa();a.settings.thumbnailMouseScroll&&ya()}b={type:"doSliderLayout"};i.isFunction(a.settings.doSliderLayout)&&a.settings.doSliderLayout.call(this,b)}function da(b,e){if(!b.data("init")){b.data("init",true);b.data("width",b.width());
b.data("height",b.height());b.data("state","loaded");a.settings.allowScaleUp||b.css({maxWidth:b.data("width"),maxHeight:b.data("height")})}switch(a.settings.scaleType){case "exactFit":b.css({width:"100%",height:"100%"});break;case "insideFit":b.width()/b.height()>=u.width()/u.height()?b.css({width:"100%",height:"auto"}):b.css({width:"auto",height:"100%"});break;case "outsideFit":b.width()/b.height()<=u.width()/u.height()?b.css({width:"100%",height:"auto"}):b.css({width:"auto",height:"100%"});break;
case "proportionalFit":if(b.data("index")==s&&(b[0].complete||b[0].readyState=="complete")){u.css("width",lb);u.css("height",mb);b.css({width:"100%",height:"auto"});u.css("height",b.height());J.css("height",u.outerHeight(true)+kb);if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller"){a.settings.thumbnailOrientation=="horizontal"&&!a.settings.thumbnailScrollerOverlay?o.css("height",J.height()+v.outerHeight(true)):o.css("height",J.height());Za();xa();a.settings.thumbnailMouseScroll&&
ya()}else o.css("height",J.height());if(C!=-1){var d=A[C].find("img.image"),g=y[C].properties.alignType;d.length&&nb(d,g)}}}nb(b,e)}function nb(b,e){var d=b.width(),g=b.height();switch(e){case "leftTop":b.css({left:0,top:0});break;case "leftCenter":b.css({left:0,top:"50%","margin-top":-g*0.5});break;case "leftBottom":b.css({left:0,bottom:0});break;case "centerTop":b.css({left:"50%",top:0,"margin-left":-d*0.5});break;case "centerCenter":b.css({left:"50%",top:"50%","margin-left":-d*0.5,"margin-top":-g*
0.5});break;case "centerBottom":b.css({left:"50%",bottom:0,"margin-left":-d*0.5});break;case "rightTop":b.css({right:0,top:0});break;case "rightCenter":b.css({right:0,top:"50%","margin-top":-g*0.5});break;case "rightBottom":b.css({right:0,bottom:0});break;case "default":b.css({left:"50%",top:"50%","margin-left":-d*0.5,"margin-top":-g*0.5})}}function Fb(){var b=i('<div class="slide-arrows"></div>').appendTo(u),e=i('<a class="previous"></a>').appendTo(b).click(function(){ja="previousButton";la()});
b=i('<a class="next"></a>').appendTo(b).click(function(){ja="nextButton";ea()});if(a.settings.slideArrowsToggle)if(w){e.hide();b.hide()}else{e.css("opacity",0);b.css("opacity",0)}}function Jb(){var b=i('<div class="slideshow-controls"></div>').appendTo(u),e=a.settings.slideshow?"pause":"play";N=a.settings.slideshow?"playing":"stopped";b.addClass(e).click(function(){if(N=="playing"||N=="paused")Fa();else N=="stopped"&&ob()});if(a.settings.slideshowControlsToggle)w?b.hide():b.css("opacity",0)}function Gb(){var b=
G,e=i('<div class="slide-buttons"></div>').appendTo(J);i('<div class="left"></div>').appendTo(e);var d=i('<div class="middle"></div>').appendTo(e);i('<div class="right"></div>').appendTo(e);d=i('<div class="buttons-inner"></div>').appendTo(d);for(var g=0;g<b;g++){var h=i('<a rel="'+g+'"></a>').appendTo(d);a.settings.slideButtonsNumber&&i('<div class="number">'+(g+1)+"</div>").appendTo(h);h.hover(function(){var c=parseInt(i(this).attr("rel"));i(this).hasClass("select")||i(this).addClass("over");if(y[c].properties.thumbnailType==
"tooltip"||y[c].properties.thumbnailType=="tooltipAndScroller")Mb(c)},function(){var c=parseInt(i(this).attr("rel"));i(this).hasClass("select")||i(this).removeClass("over");if(y[c].properties.thumbnailType=="tooltip"||y[c].properties.thumbnailType=="tooltipAndScroller")Nb()});h.click(function(){ja="button";sa(parseInt(i(this).attr("rel")))})}if(a.settings.slideButtonsToggle){w?e.hide():e.css("opacity",0);o.hover(function(){w?e.show():e.stop().animate({opacity:1},a.settings.slideButtonsShowDuration)},
function(){w?e.hide():e.stop().animate({opacity:0},a.settings.slideButtonsHideDuration)})}}function Kb(){i(document).keydown(function(b){if(b.which==37&&(a.settings.keyboardNavigationOnFocusOnly&&va||!a.settings.keyboardNavigationOnFocusOnly))la();else if(b.which==39&&(a.settings.keyboardNavigationOnFocusOnly&&va||!a.settings.keyboardNavigationOnFocusOnly))ea();else b.which==13&&va&&A[s].children("a").length&&A[s].children("a").not(".thumbnail")[0].click()})}function Lb(){var b=i('<div class="full-screen-controls"></div>').appendTo(u);
b.click(function(){if(ka=="off")if(Z.requestFullScreen)Z.requestFullScreen();else if(Z.mozRequestFullScreen)Z.mozRequestFullScreen();else Z.webkitRequestFullScreen&&Z.webkitRequestFullScreen();else if(ka=="on")if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else document.webkitCancelFullScreen&&document.webkitCancelFullScreen()});document.addEventListener("fullscreenchange",$a);document.addEventListener("mozfullscreenchange",
$a);document.addEventListener("webkitfullscreenchange",$a);if(a.settings.fullscreenIconToggle&&!V)b.css("opacity",0);else w||b.css({opacity:0}).stop().animate({opacity:1},a.settings.fullscreenIconHideDuration);a.settings.fullscreenIconToggle&&u.hover(function(){w?b.css("filter",""):b.stop().animate({opacity:1},a.settings.fullscreenIconShowDuration)},function(){w?b.css("opacity",0):b.stop().animate({opacity:0},a.settings.fullscreenIconHideDuration)})}function $a(){ka=document.fullscreen||document.mozFullScreen||
document.webkitIsFullScreen?"on":"off";if(ka=="on"){o.css({width:"100%",height:"100%"}).addClass("fullscreen");v&&a.settings.fullscreenThumbnailScrollerOverlay&&v.addClass("overlay")}else{o.css({width:a.settings.width,height:a.settings.height}).removeClass("fullscreen");v&&a.settings.fullscreenThumbnailScrollerOverlay&&v.removeClass("overlay")}Ea()}function Hb(){var b=i('<div class="shadow"></div>').appendTo(J);i('<div class="shadow-left"></div>').appendTo(b);i('<div class="shadow-middle"></div>').appendTo(b);
i('<div class="shadow-right"></div>').appendTo(b)}function Mb(b){if(y[b].thumbnail){var e=y[b].thumbnail.is("a")?y[b].thumbnail.find("img"):y[b].thumbnail,d=e.attr("src"),g=e.attr("alt");e=i('<div class="thumbnail-wrapper"></div>').appendTo(o.find(".buttons-inner"));var h=i('<div class="thumbnail"></div>').css({width:a.settings.thumbnailWidth,height:a.settings.thumbnailHeight}).appendTo(e);e.css({width:h.outerWidth(),height:h.outerHeight()});if(g){var c=i('<div class="caption"></div>').appendTo(h),
f=i('<div class="background"></div>').appendTo(c);g=i('<div class="content">'+g+"</div>").appendTo(c);f=f.css("opacity");c.css("height",g.outerHeight(true));a.settings.thumbnailCaptionPosition=="top"?c.css("top",0):c.css("bottom",0)}c=o.find(".buttons-inner a").eq(b);b=c.position().left-(e.outerWidth(true)-c.width())/2;c=c.position().top-e.outerHeight(true);w&&e.find("*").not(".background").css("filter","inherit");e.css({left:b,top:c-a.settings.thumbnailSlideAmount,opacity:0});i("<img/>").load(function(){h.css("background-image",
"url("+d+")")}).attr("src",d);if(w){e.animate({top:c,opacity:1},a.settings.thumbnailSlideDuration,a.settings.thumbnailSlideEasing);e.find(".caption .background").animate({opacity:f},a.settings.thumbnailSlideDuration)}else e.animate({top:c,opacity:1},a.settings.thumbnailSlideDuration,a.settings.thumbnailSlideEasing)}}function Nb(){var b=o.find(".buttons-inner .thumbnail-wrapper");if(b.length){var e=b.find(".background");w&&e.animate({opacity:0},a.settings.thumbnailSlideDuration);b.animate({top:b.position().top-
a.settings.thumbnailSlideAmount,opacity:0},a.settings.thumbnailSlideDuration,a.settings.thumbnailSlideEasing,function(){b.remove()})}}function sa(b){if(b!=s){if(L)if(a.settings.overrideTransition)switch(pb){case "slide":A[s].stop(false,true);break;case "fade":A[s].stop(false,true);C!=-1&&A[C].stop(false,true);break;case "slice":ma.find(".slice").each(function(){clearTimeout(i(this).data("delay"));i(this).stop().remove()});ma.remove();C!=-1&&A[C].css({visibility:""});A[s].css("visibility","visible");
M()}else if(a.settings.effectType!="swipe")return;a.settings.slideshow&&Ga();if(wa){wa=false;var e=u.find(".lightbox-icon");w?e.remove():e.stop().animate({opacity:0},a.settings.lightboxIconFadeDuration,function(){e.remove()})}if(za){za.leaveVideo();Wa=false}L=true;C=s;s=b;if(s!=fa)if(ia&&a.settings.effectType!="swipe"){ia=false;Xa();Aa&&clearTimeout(Aa)}var d=y[b],g=A[b].find("img.image");if(d.lazyImage&&!d.lazyImageLoaded){var h=i('<img class="image"/>').attr("src",y[b].lazyImage);g.attr("alt")&&
h.attr("alt",g.attr("alt"));g.attr("title")&&h.attr("title",g.attr("title"));h.data("index",b);if(g.length){h.prependTo(g.parent());g.remove()}else h.prependTo(A[b]);g=h;d.imagePath=g.attr("src");d.lazyImageLoaded=true}if(g.length&&(g.data("state")!="loaded"||a.settings.scaleType=="proportionalFit")){var c=d.properties.alignType;if(a.settings.effectType=="swipe"){g.css("visibility","hidden");if(g[0].complete||g[0].readyState=="complete"){g.css("visibility","");da(g,c)}else{qb(A[g.data("index")]);
g.load(function(){g.css("visibility","");da(g,c);Ha(A[g.data("index")])}).error(function(){Ha(A[g.data("index")]);L=false})}Ia()}else if(g[0].complete||g[0].readyState=="complete"){da(g,c);Ia()}else{qb(u);g.load(function(){da(g,c);Ha(u);Ia()}).error(function(){Ha(u);L=false})}}else Ia();if(a.settings.slideButtons){h=o.find(".buttons-inner");h.find(".select").removeClass("select");h.find("a").eq(b).attr("class","select")}if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller"){v.find(".thumbnail.select").removeClass("select");
v.find(".thumbnail[data-index="+b+"]").removeClass("over").addClass("select");if(a.settings.thumbnailSync){b=Math.floor(b/(W*F));b!=O&&ga(b)}}d={type:"slideOpen",index:s,data:d};i.isFunction(a.settings.slideOpen)&&a.settings.slideOpen.call(this,d)}}function ea(){sa(s==G-1?0:s+1)}function la(){sa(s==0?G-1:s-1)}function Ob(b){var e=[];if(!(G<=1)){if(G==2)if(b==0)e.push(1);else b==1&&e.push(0);else if(G>=3)e.push(b==0?G-1:b-1,b==G-1?0:b+1);for(b=0;b<e.length;b++){var d=e[b],g=y[d];if(g.lazyImage&&!g.lazyImageLoaded){var h=
A[d].find("img.image"),c=i('<img class="image"/>').attr("src",g.lazyImage),f=g.properties.alignType;h.attr("alt")&&c.attr("alt",h.attr("alt"));h.attr("title")&&c.attr("title",h.attr("title"));c.data("index",d);if(h.length){c.prependTo(h.parent());h.remove()}else c.prependTo(A[d]);h=c;g.lazyImageLoaded=true;g.imagePath=h.attr("src");h[0].complete||h[0].readyState=="complete"?da(h,f):h.load(function(){da(h,f)})}}}}function qb(b){if(!b.find(".preloader").length){var e=i('<div class="preloader"></div>').hide().appendTo(b),
d=(b.outerWidth(true)-e.width())*0.5;b=(b.outerHeight(true)-e.height())*0.5;e.fadeIn(300);e.css({left:d,top:b})}}function Ha(b){b.find(".preloader").stop().remove()}function na(b){b.preventDefault()}function Ia(){var b=y[s].properties.effectType;if(!a.settings.initialEffect&&rb){b="none";rb=false}if(a.settings.effectType=="swipe")b="swipe";else if(b=="random")b=ta(["slice","slide","fade"]);pb=b;var e={type:"transitionStart",index:s,data:y[s]};i.isFunction(a.settings.transitionStart)&&a.settings.transitionStart.call(this,
e);switch(b){case "none":C!=-1&&A[C].css("visibility","");A[s].css("visibility","visible");M();break;case "fade":sb();break;case "slide":Pb();break;case "swipe":Qb();break;case "slice":Rb();break;default:sb()}}function sb(){var b=y[s].properties,e=A[s],d,g=parseInt(b.fadeInDuration),h=b.fadeInEasing,c=parseInt(b.fadeOutDuration);b=b.fadeOutEasing;w&&e.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});
e.css({visibility:"visible",opacity:0}).animate({opacity:1},g,h,function(){e.css({opacity:""});w&&e.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")});M()});if(C!=-1){d=A[C];w&&d.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});d.animate({opacity:0},c,b,function(){d.css({visibility:"",opacity:""});w&&d.find("*").each(function(){i(this).hasClass(".caption-container")||
i(this).parents(".caption-container").length==1||i(this).css("filter","")})})}}function Pb(){var b=y[s].properties,e=A[s],d,g=b.slideDirection,h=parseInt(b.slideDuration),c=b.slideEasing;b=b.slideLoop;if(C!=-1)d=A[C];if(g=="random")g=ta(["autoHorizontal","autoVertical","rightToLeft","leftToRight","topToBottom","bottomToTop"]);e.css("visibility","visible");var f={},j,r;switch(g){case "autoHorizontal":j="left";r=s==0&&C==G-1&&b?u.width():s==G-1&&C==0&&b?-u.width():s>C?u.width():-u.width();break;case "autoVertical":j=
"top";r=s==0&&C==G-1&&b?u.height():s==G-1&&C==0&&b?-u.height():s>C?u.height():-u.height();break;case "rightToLeft":j="left";r=u.width();break;case "leftToRight":j="left";r=-u.width();break;case "topToBottom":j="top";r=-u.height();break;case "bottomToTop":j="top";r=u.height();break;default:j="left";r=s>C?u.width():-u.width()}e.css(j,r);f[j]=0;e.animate(f,{duration:h,easing:c,complete:function(){e.css({left:"",top:""});C!=-1&&d.css({visibility:"",left:"",top:""});M()},step:function(n){d&&d.css(j,n-
r)}})}function Qb(){if(C==-1){m.css("overflow","visible").bind("dragstart",na).find(".slide").each(function(h){var c=i(this);if(a.settings.swipeOrientation=="horizontal")c.css({top:0,left:h*(m.width()+a.settings.swipeSlideDistance),visibility:"visible"});else a.settings.swipeOrientation=="vertical"&&c.css({top:h*(m.height()+a.settings.swipeSlideDistance),left:0,visibility:"visible"})});a.settings.swipeGrabCursor&&m.addClass("grab");var b,e,d=false,g=false;if(a.settings.swipeTouchDrag&&"ontouchstart"in
window)g=d=true;if(!g&&a.settings.swipeMouseDrag)d=true;if(a.settings.swipeOrientation=="horizontal"){m.css("left",-ra*(m.width()+a.settings.swipeSlideDistance));d&&m.swipe({threshold:a.settings.swipeThreshold,allowPageScroll:"vertical",swipeStatus:function(h,c,f,j){if(c=="start"){b=parseInt(m.css("left"));m.is(":animated")&&m.stop();h=i(h.target).closest("a");if(h.length){h.unbind("click",na).bind("click",na);h.has("rel")&&h.unbind("click.prettyphoto")}a.settings.swipeGrabCursor&&m.removeClass("grab").addClass("grabbing")}else if(c==
"move"){e=s==G-1&&f=="left"||s==0&&f=="right"?0.2:1;if(f=="left")m.css("left",b-j*e);else f=="right"&&m.css("left",b+j*e)}else if(c=="cancel"){m.stop().animate({left:-s*(m.width()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&m.removeClass("grabbing").addClass("grab")}},click:function(h){h=i(h.target).closest("a");if(h.length){h.unbind("click",na);h.attr("rel")&&i.prettyPhoto&&h.bind("click.prettyphoto",i.prettyPhoto.initialize)}},
swipeLeft:function(){s<G-1?ea():m.stop().animate({left:-s*(m.width()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&m.removeClass("grabbing").addClass("grab")},swipeRight:function(){s>0?la():m.stop().animate({left:-s*(m.width()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&m.removeClass("grabbing").addClass("grab")}})}else if(a.settings.swipeOrientation==
"vertical"){m.css("top",-ra*(m.height()+a.settings.swipeSlideDistance));d&&m.swipe({threshold:a.settings.swipeThreshold,allowPageScroll:"horizontal",swipeStatus:function(h,c,f,j){if(c=="start"){b=parseInt(m.css("top"));m.is(":animated")&&m.stop();h=i(h.target).closest("a");if(h.length){h.unbind("click",na).bind("click",na);h.has("rel")&&h.unbind("click.prettyphoto")}a.settings.swipeGrabCursor&&m.removeClass("grab").addClass("grabbing")}else if(c=="move"){e=s==G-1&&f=="up"||s==0&&f=="down"?0.2:1;if(f==
"up")m.css("top",b-j*e);else f=="down"&&m.css("top",b+j*e)}else if(c=="cancel"){m.stop().animate({top:-s*(m.height()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&m.removeClass("grabbing").addClass("grab")}},click:function(h){h=i(h.target).closest("a");if(h.length){h.unbind("click",na);h.attr("rel")&&i.prettyPhoto&&h.bind("click.prettyphoto",i.prettyPhoto.initialize)}},swipeUp:function(){s<G-1?ea():m.stop().animate({top:-s*
(m.height()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&m.removeClass("grabbing").addClass("grab")},swipeDown:function(){s>0?la():m.stop().animate({top:-s*(m.height()+a.settings.swipeSlideDistance)},a.settings.swipeBackDuration,a.settings.swipeEasing,function(){L&&M()});a.settings.swipeGrabCursor&&m.removeClass("grabbing").addClass("grab")}})}M()}else if(a.settings.swipeOrientation=="horizontal")m.stop().animate({left:-s*
(m.width()+a.settings.swipeSlideDistance)},a.settings.swipeDuration,a.settings.swipeEasing,function(){if(i.support.transition&&!m.is(":animated"))M();else i.support.transition||M()});else a.settings.swipeOrientation=="vertical"&&m.stop().animate({top:-s*(m.height()+a.settings.swipeSlideDistance)},a.settings.swipeDuration,a.settings.swipeEasing,function(){if(i.support.transition&&!m.is(":animated"))M();else i.support.transition||M()})}function Rb(){var b=y[s],e=b.properties,d=e.sliceEffectType,g=e.htmlDuringTransition,
h=parseInt(e.horizontalSlices),c=parseInt(e.verticalSlices),f=e.slicePattern,j=e.slicePoint,r=e.sliceStartPosition,n=parseFloat(e.sliceStartRatio),q=parseInt(e.sliceDuration),t=e.sliceEasing,k=parseInt(e.sliceDelay),p=e.sliceFade==true||effectType=="fade"?0:1,x=e.fadePreviousSlide,B=parseInt(e.fadePreviousSlideDuration),z=Math.floor(u.width()/h),H=Math.floor(u.height()/c);A[s].find("img.image").clone();var ab=A[s].clone(),tb=[];if(C!=-1&&x==true){var Ja=A[C];w&&Ja.find("*").each(function(){i(this).hasClass(".caption-container")||
i(this).parents(".caption-container").length==1||i(this).css("filter","inherit")});Ja.animate({opacity:0},B,function(){Ja.css({visibility:"",opacity:""});w&&Ja.find("*").each(function(){i(this).hasClass(".caption-container")||i(this).parents(".caption-container").length==1||i(this).css("filter","")})})}ab.css("visibility","visible").find(".caption-container").remove();g||ab.find(".html").remove();ma=i('<div class="slice-container"></div>').appendTo(u);e.slideMask&&ma.css("overflow","hidden");for(e=
0;e<h;e++)for(g=0;g<c;g++){x=i('<div class="slice"></div>').css({left:e*z,top:g*H,width:z,height:H,opacity:p,display:"none"}).data({hPos:e,vPos:g}).appendTo(ma);var Ka;if(b.html||b.imagePath)Ka=ab.clone();if(Ka){Ka.css({left:-(e*z),top:-(g*H),width:u.width(),height:u.height(),overflow:"hidden",position:"absolute"});x.html(Ka).css("overflow","hidden")}w&&x.find("*").each(function(){i(this).css("filter","inherit")});tb.push(x)}if(d=="random")d=ta(["scale","fade","width","height","slide"]);if(f=="random")f=
ta(["randomPattern","topToBottom","bottomToTop","leftToRight","rightToLeft","topLeftToBottomRight","topRightToBottomLeft","bottomLeftToTopRight","bottomRightToTopLeft","horizontalMarginToCenter","horizontalCenterToMargin","marginToCenter","verticalCenterToMargin","skipOneTopToBottom","skipOneBottomToTop","skipOneLeftToRight","skipOneRightToLeft","skipOneHorizontal","skipOneVertical","spiralMarginToCenterCW","spiralMarginToCenterCCW","spiralCenterToMarginCW","spiralCenterToMarginCCW"]);if(h==1&&f==
"skipOneHorizontal"||c==1&&f=="skipOneVertical")f="randomPattern";if(j=="random")j=ta(["leftTop","leftCenter","leftBottom","centerTop","centerCenter","centerBottom","rightTop","rightCenter","rightBottom"]);if(r=="random")r=ta(["left","right","top","bottom","leftTop","rightTop","leftBottom","rightBottom","horizontalAlternate","verticalAlternate"]);b=Sb(tb,f,h,c);La=b.length;for(e=0;e<La;e++)Tb(b[e],e,d,j,r,n,q,t,k)}function Tb(b,e,d,g,h,c,f,j,r){var n={},q={},t=parseInt(b.css("width")),k=parseInt(b.css("height")),
p=parseInt(b.css("left")),x=parseInt(b.css("top")),B,z;if(d=="scale"||d=="width"||d=="height")switch(g){case "centerCenter":z=x+k*0.5;B=p+t*0.5;break;case "rightCenter":z=x+k*0.5;B=p+t;break;case "leftCenter":z=x+k*0.5;B=p;break;case "centerTop":z=x;B=p+t*0.5;break;case "rightTop":z=x;B=p+t;break;case "leftTop":z=x;B=p;break;case "centerBottom":z=x+k;B=p+t*0.5;break;case "rightBottom":z=x+k;B=p+t;break;case "leftBottom":z=x+k;B=p;break;default:z=x+k*0.5;B=p+t*0.5}else if(d=="slide")switch(h){case "left":z=
x;B=p-t*c;break;case "right":z=x;B=p+t*c;break;case "top":z=x-k*c;B=p;break;case "bottom":z=x+k*c;B=p;break;case "leftTop":z=x-k*c;B=p-t*c;break;case "rightTop":z=x-k*c;B=p+t*c;break;case "leftBottom":z=x+k*c;B=p-t*c;break;case "rightBottom":z=x+k*c;B=p+t*c;break;case "horizontalAlternate":z=x;B=p+t*c*(e%2==0?1:-1);break;case "verticalAlternate":z=x+k*c*(e%2==0?1:-1);B=p;break;default:z=x;B=p-t*c}switch(d){case "fade":q={opacity:1};break;case "scale":n={width:0,height:0,left:B,top:z};q={width:t,height:k,
left:p,top:x,opacity:1};break;case "width":n={width:0,left:B};q={width:t,left:p,opacity:1};break;case "height":n={height:0,top:z};q={height:k,top:x,opacity:1};break;case "slide":n={left:B,top:z};q={left:p,top:x,opacity:1};break;default:q={opacity:1}}var H=setTimeout(function(){b.css(n).css("display","block").data("delay",H).animate(q,f,j,function(){La--;if(La==0){ma.find(".slice").each(function(){i(this).remove();w&&i(this).find("*").each(function(){i(this).css("filter","inherit")})});ma.remove();
C!=-1&&A[C].css({visibility:""});A[s].css("visibility","visible");M()}})},e*r)}function M(){var b=y[s],e=parseInt(b.properties.captionDelay);L=false;if(a.settings.slideshow&&N!="stopped")if(!a.settings.slideshowLoop&&s==G-1)Fa();else{Ma();if(a.settings.pauseSlideshowOnHover&&V||K)ha()}if(s!=fa){if(ia&&a.settings.effectType=="swipe"){ia=false;Xa();Aa&&clearTimeout(Aa)}if(b.caption){ia=true;Aa=setTimeout(function(){if(!a.settings.captionToggle||a.settings.captionToggle&&V)hb()},e)}else fa=-1}a.settings.preloadNearbyImages&&
Ob(s);C!=-1&&A[C].removeClass("active");A[s].addClass("active");var d=A[s].children('a[rel^="slider-lightbox"]');if(d.length&&a.settings.lightboxIcon){wa=true;e=d.attr("href");var g;e=e.indexOf("iframe=true")!=-1||e.indexOf("ajax=true")!=-1||e.indexOf("custom=true")!=-1?"link":e.indexOf("youtube.com")!=-1||e.indexOf("youtu.be")!=-1||e.indexOf("vimeo.com")!=-1?"video":"image";g=i('<div class="lightbox-icon"></div>').appendTo(u);if(e=="video")g.addClass("play");else if(e=="link")g.addClass("hyperlink");
else e=="image"&&g.addClass("magnifying");if(a.settings.lightboxIconToggle&&!V)g.css("opacity",0);else w||g.css({opacity:0}).stop().animate({opacity:1},a.settings.lightboxIconFadeDuration);g.click(function(){d.trigger("click")})}if(i.fn.videoController&&A[s].find(".video").length){za=A[s].find(".video").videoController({reachVideoAction:a.settings.reachVideoAction,leaveVideoAction:a.settings.leaveVideoAction,start:function(){if(a.settings.videoPlayAction=="stopSlideshow"&&!K)Ga();else a.settings.videoPlayAction==
"pauseSlideshow"&&!K&&ha()},play:function(){Wa=true;if(a.settings.videoPlayAction=="stopSlideshow"&&!K)Ga();else a.settings.videoPlayAction=="pauseSlideshow"&&!K&&ha();var h={type:"videoPlay"};i.isFunction(a.settings.videoPlay)&&a.settings.videoPlay.call(this,h)},pause:function(){if(a.settings.videoPauseAction=="startSlideshow"&&!K)Ma();else a.settings.videoPauseAction=="resumeSlideshow"&&!K&&qa();var h={type:"videoPause"};i.isFunction(a.settings.videoPause)&&a.settings.videoPause.call(this,h)},end:function(){if(a.settings.videoEndAction==
"resetVideo")za.stopVideo();else if(a.settings.videoEndAction=="startSlideshow"&&!K)Ma();else if(a.settings.videoEndAction=="resumeSlideshow"&&!K)qa();else a.settings.videoEndAction=="nextSlide"&&ea();var h={type:"videoEnd"};i.isFunction(a.settings.videoEnd)&&a.settings.videoEnd.call(this,h)},fullscreenchange:function(){if(i.browser.msie)if(i("body").hasClass("vjs-full-window")){a.settings.timerAnimation&&o.find(".timer-animation").css("visibility","hidden");a.settings.slideArrows&&u.find(".slide-arrows").css("visibility",
"hidden");a.settings.slideButtons&&o.find(".slide-buttons").css("visibility","hidden");a.settings.slideshowControls&&u.find(".slideshow-controls").css("visibility","hidden");a.settings.lightboxIcon&&u.find(".lightbox-icon").css("visibility","hidden");if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")o.find(".thumbnail-scroller").css("visibility","hidden")}else{a.settings.timerAnimation&&o.find(".timer-animation").css("visibility","visible");a.settings.slideArrows&&
u.find(".slide-arrows").css("visibility","visible");a.settings.slideButtons&&o.find(".slide-buttons").css("visibility","visible");a.settings.slideshowControls&&u.find(".slideshow-controls").css("visibility","visible");a.settings.lightboxIcon&&u.find(".lightbox-icon").css("visibility","visible");if(a.settings.thumbnailType=="scroller"||a.settings.thumbnailType=="tooltipAndScroller")o.find(".thumbnail-scroller").css("visibility","visible")}var h={type:"videoFullscreenChange"};i.isFunction(a.settings.videoFullscreenChange)&&
a.settings.videoFullscreenChange.call(this,h)}});za.reachVideo()}b={type:"transitionComplete",index:s,data:b};i.isFunction(a.settings.transitionComplete)&&a.settings.transitionComplete.call(this,b)}function hb(){fa=s;var b=y[fa].properties,e=b.captionPosition,d=Ba(b.captionSize),g=Ba(b.captionWidth),h=Ba(b.captionHeight),c=Ba(b.captionLeft),f=Ba(b.captionTop),j=b.captionShowEffect,r=parseInt(b.captionShowEffectDuration),n=b.captionShowEffectEasing,q=b.captionShowSlideDirection;g=e=="custom"?g:"100%";
h=e=="custom"?h:"100%";c=e=="custom"?c:0;f=e=="custom"?f:0;var t=A[s].find(".caption-container"),k=t.find(".wrapper");k.find(".background");k.find(".caption");parseFloat(b.captionBackgroundOpacity);b=b.captionBackgroundColor;var p=j=="fade"?0:d;switch(e){case "left":t.css({width:d,height:h,left:c,top:f});q=="auto"&&k.css({width:d,height:h,left:-p,top:0});break;case "right":t.css({width:d,height:h,right:c,top:f});q=="auto"&&k.css({width:d,height:h,left:p,top:0});break;case "top":t.css({width:g,height:d,
left:c,top:f});q=="auto"&&k.css({width:g,height:d,left:0,top:-p});break;case "bottom":t.css({width:g,height:d,left:c,bottom:f});q=="auto"&&k.css({width:g,height:d,left:0,top:p});break;case "custom":t.css({width:g,height:h,left:c,top:f});k.css({width:g,height:h,left:0,top:0});break;case "default":t.css({width:g,height:d,left:c,bottom:f});q=="auto"&&k.css({width:g,height:d,left:0,top:p})}if(j=="fade")w?t.css("visibility","visible"):k.stop().css({opacity:0}).animate({opacity:1},r,n);else{w?t.css("visibility",
"visible"):k.stop().css({opacity:1});e=="custom"&&t.css({width:g,height:h,left:c,top:f});if(q=="topToBottom")k.css({width:g,height:h,left:0,top:-h});else if(q=="bottomToTop")k.css({width:g,height:h,left:0,top:h});else if(q=="leftToRight")k.css({width:g,height:h,left:-g,top:0});else q=="rightToLeft"&&k.css({width:g,height:h,left:g,top:0});i.browser.msie&&i.browser.version=="6.0"&&k.css("background-color",b);k.stop().animate({top:0,left:0},r,n)}}function Xa(){if(fa!=-1){var b=A[fa].find(".caption-container"),
e=b.find(".wrapper");e.find(".background");e.find(".caption");var d=y[fa].properties,g=d.captionPosition,h=d.captionHideEffect,c=parseInt(d.captionHideEffectDuration),f=d.captionHideEffectEasing;d=d.captionHideSlideDirection;if(h=="fade")w?b.css("visibility","hidden"):e.stop().animate({opacity:0},c,f);else if(d=="topToBottom")e.animate({top:e.height()},c);else if(d=="bottomToTop")e.animate({top:-e.height()},c);else if(d=="leftToRight")e.animate({left:e.width()},c);else if(d=="rightToLeft")e.animate({left:-e.width()},
c);else if(d=="auto")switch(g){case "left":e.stop().animate({left:-e.width()},c);break;case "right":e.stop().animate({left:e.width()},c);break;case "top":e.stop().animate({top:-e.height()},c);break;case "bottom":e.stop().animate({top:e.height()},c);break;case "custom":e.stop().animate({top:e.height()},c);break;case "default":e.stop().animate({top:e.height()},c)}}}function Ma(){var b=y[s].properties.slideshowDelay;N="playing";a.settings.timerAnimation&&Ub(b);Na=0;Oa=(new Date).getTime();X&&clearTimeout(X);
X=setTimeout(function(){ja="slideshow";if(a.settings.slideshowDirection=="next")ea();else a.settings.slideshowDirection=="previous"&&la()},b)}function ob(){if(!a.settings.slideshow)a.settings.slideshow=true;o.find(".slideshow-controls").removeClass("play").addClass("pause");Ma()}function Fa(){o.find(".slideshow-controls").removeClass("pause").addClass("play");N="stopped";Ga()}function Ga(){X&&clearTimeout(X);a.settings.timerAnimation&&Vb()}function ha(){if(a.settings.slideshow&&N=="playing"&&!L){X&&
clearTimeout(X);N="paused";Na+=(new Date).getTime()-Oa}}function qa(){if(a.settings.slideshow&&N=="paused"&&!L){var b=y[s].properties.slideshowDelay;N="playing";Oa=(new Date).getTime();X&&clearTimeout(X);X=setTimeout(function(){if(a.settings.slideshowDirection=="next")ea();else a.settings.slideshowDirection=="previous"&&la()},b-Na)}}function Ub(b){var e=document.createElement("canvas"),d=Math.max(a.settings.timerStrokeWidth1,a.settings.timerStrokeWidth2)+a.settings.timerRadius*2,g=d/2,h=Math.PI/180,
c=0,f,j,r=a.settings.timerStrokeOpacity1,n=a.settings.timerStrokeOpacity2,q=ua(a.settings.timerStrokeColor1).red,t=ua(a.settings.timerStrokeColor1).green,k=ua(a.settings.timerStrokeColor1).blue,p=ua(a.settings.timerStrokeColor2).red,x=ua(a.settings.timerStrokeColor2).green,B=ua(a.settings.timerStrokeColor2).blue;e.width=e.height=d;var z=i('<div class="timer-animation"></div>').css({width:d,height:d}).appendTo(u);i(e).appendTo(z);if(a.settings.timerAnimationControls){i('<div class="timer-animation-controls"></div>').appendTo(z);
K?z.addClass("play"):z.addClass("pause");z.click(function(){if(K){if(K){K=false;z.removeClass("play").addClass("pause");a.settings.pauseSlideshowOnHover&&V||qa()}}else{K=true;z.removeClass("pause").addClass("play");a.settings.pauseSlideshowOnHover&&V||ha()}})}if(a.settings.timerToggle&&!V)z.css("opacity",0);else w||z.css({opacity:0}).stop().animate({opacity:1},a.settings.timerFadeDuration);var H;if(e.getContext)H=e.getContext("2d");else if(typeof G_vmlCanvasManager!="undefined"&&w)H=G_vmlCanvasManager.initElement(e).getContext("2d");
else return;H.beginPath();H.lineWidth=a.settings.timerStrokeWidth1;H.strokeStyle="rgba("+q+", "+t+", "+k+", "+r+")";H.arc(g,g,a.settings.timerRadius,0,2*Math.PI,false);H.stroke();bb=setInterval(function(){if(c<=360&&!(a.settings.pauseSlideshowOnHover&&V||pa||K||N=="paused")){f=(new Date).getTime();j=f-Oa;c=(Na+j)/b*360+1;if(c>360)c=360;e.width=e.width;H.beginPath();H.lineWidth=a.settings.timerStrokeWidth1;H.strokeStyle="rgba("+q+", "+t+", "+k+", "+r+")";H.arc(g,g,a.settings.timerRadius,0,2*Math.PI,
false);H.stroke();H.beginPath();H.lineWidth=a.settings.timerStrokeWidth2;H.strokeStyle="rgba("+p+", "+x+", "+B+", "+n+")";H.arc(g,g,a.settings.timerRadius,0,c*h,false);H.stroke()}},20)}function Vb(){bb&&clearInterval(bb);var b=u.find(".timer-animation");if(b)w?b.remove():b.stop().animate({opacity:0},a.settings.timerFadeDuration,function(){b.remove()})}function Ib(){v=i('<div class="thumbnail-scroller"></div>').appendTo(o);I=i('<div class="visible-container"></div>').appendTo(v);P=i('<ul class="container"></ul>').appendTo(I);
a.settings.thumbnailOrientation=="horizontal"?v.addClass("horizontal"):v.addClass("vertical");a.settings.thumbnailScrollerOverlay&&v.addClass("overlay");for(var b=0;b<G;b++)if(y[b].thumbnail&&(y[b].properties.thumbnailType=="scroller"||y[b].properties.thumbnailType=="tooltipAndScroller")){var e=y[b].thumbnail.is("a"),d=e?y[b].thumbnail.find("img").removeClass("thumbnail"):y[b].thumbnail,g=d.attr("src"),h=d.attr("alt");d.attr("title");var c=i('<li class="thumbnail-wrapper"></li>').appendTo(P);if(e){e=
y[b].thumbnail;e.addClass("thumbnail").css({width:a.settings.thumbnailWidth,height:a.settings.thumbnailHeight}).attr("data-index",b).appendTo(c);if(d[0].complete||d[0].readyState=="complete"){d.css("margin-left",(a.settings.thumbnailWidth-d.width())*0.5);d.css("margin-top",(a.settings.thumbnailHeight-d.height())*0.5);e.css("background-image","none")}else d.load(function(){i(this).css("margin-left",(a.settings.thumbnailWidth-i(this).width())*0.5);i(this).css("margin-top",(a.settings.thumbnailHeight-
i(this).height())*0.5);i(this).parent().css("background-image","none")})}else{e=i('<a class="thumbnail"></a>').css({"background-image":"url("+g+")",width:a.settings.thumbnailWidth,height:a.settings.thumbnailHeight}).attr("data-index",b).appendTo(c);y[b].thumbnail.attr("title")&&e.attr("title",y[b].thumbnail.attr("title"))}c.css({width:e.outerWidth(),height:e.outerHeight()});F=a.settings.thumbnailLayers==-1||a.settings.thumbnailLayers*a.settings.maximumVisibleThumbnails>G?Math.ceil(G/a.settings.maximumVisibleThumbnails):
a.settings.thumbnailLayers;if(a.settings.thumbnailOrientation=="horizontal"){c.css("left",Math.floor(Q/F)*c.outerWidth(true));c.css("top",Q%F*c.outerHeight(true))}else{c.css("left",Q%F*c.outerWidth(true));c.css("top",Math.floor(Q/F)*c.outerHeight(true))}if(h){d=i('<div class="caption"></div>').appendTo(e);g=i('<div class="background"></div>').appendTo(d);h=i('<div class="content">'+h+"</div>").appendTo(d);d.css("height",h.outerHeight(true));a.settings.thumbnailCaptionPosition=="top"?d.css({top:0}):
d.css({bottom:0});if(a.settings.thumbnailCaptionToggle)if(a.settings.thumbnailCaptionEffect=="slide")a.settings.thumbnailCaptionPosition=="top"?d.css({top:-d.outerHeight(true)}):d.css({bottom:-d.outerHeight(true)});else if(w){g.data("opacity",g.css("opacity"));g.css("opacity",0);h.css("opacity",0)}else d.css("opacity",0)}c=c.children('a[rel^="slider-lightbox"]');h=A[b].children('a[rel^="slider-lightbox"]');d=c.length&&a.settings.lightboxIcon;g=h.length&&a.settings.thumbnailLightboxIcon;if(d||g){c=
d?c.attr("href"):h.attr("href");c=c.indexOf("iframe=true")!=-1||c.indexOf("ajax=true")!=-1||c.indexOf("custom=true")!=-1?"link":c.indexOf("youtube.com")!=-1||c.indexOf("youtu.be")!=-1||c.indexOf("vimeo.com")!=-1?"video":"image";h=i('<div class="lightbox-icon"></div>').appendTo(e);if(c=="video")h.addClass("play");else if(c=="link")h.addClass("hyperlink");else c=="image"&&h.addClass("magnifying");a.settings.thumbnailLightboxIconToggle&&h.css("opacity",0)}e.hover(function(){i(this).hasClass("select")||
i(this).addClass("over");var f=parseInt(i(this).data("index"));if(a.settings.thumbnailCaptionToggle){var j=i(this).children(".caption"),r=j.children(".background"),n=j.children(".content"),q=r.data("opacity");if(a.settings.thumbnailCaptionEffect=="slide")a.settings.thumbnailCaptionPosition=="top"?j.stop().animate({top:0},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing):j.stop().animate({bottom:0},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing);
else if(w){r.stop().animate({opacity:q},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing);n.stop().animate({opacity:1},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing)}else j.stop().animate({opacity:1},a.settings.thumbnailCaptionShowDuration,a.settings.thumbnailCaptionEasing)}if(a.settings.thumbnailLightboxIconToggle){j=i(this).children(".lightbox-icon");w?j.css("filter",""):j.stop().animate({opacity:1},a.settings.lightboxIconFadeDuration)}a.settings.thumbnailTooltip&&
Wb(f);f={type:"thumbnailMouseOver",index:f};i.isFunction(a.settings.thumbnailMouseOver)&&a.settings.thumbnailMouseOver.call(this,f)},function(){i(this).hasClass("select")||i(this).removeClass("over");var f=parseInt(i(this).data("index"));if(a.settings.thumbnailCaptionToggle){var j=i(this).children(".caption"),r=j.children(".background"),n=j.children(".content");if(a.settings.thumbnailCaptionEffect=="slide")a.settings.thumbnailCaptionPosition=="top"?j.stop().animate({top:-j.outerHeight(true)},a.settings.thumbnailCaptionHideDuration,
a.settings.thumbnailCaptionEasing):j.stop().animate({bottom:-j.outerHeight(true)},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing);else if(w){r.stop().animate({opacity:0},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing);n.stop().animate({opacity:0},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing)}else j.stop().animate({opacity:0},a.settings.thumbnailCaptionHideDuration,a.settings.thumbnailCaptionEasing)}if(a.settings.thumbnailLightboxIconToggle){j=
i(this).children(".lightbox-icon");w?j.css("opacity",0):j.stop().animate({opacity:0},a.settings.lightboxIconFadeDuration)}a.settings.thumbnailTooltip&&Xb(f);f={type:"thumbnailMouseOut",index:f};i.isFunction(a.settings.thumbnailMouseOut)&&a.settings.thumbnailMouseOut.call(this,f)});e.click(function(){var f=i(this).data("index");ja="thumbnail";var j={type:"thumbnailClick",index:f};i.isFunction(a.settings.thumbnailClick)&&a.settings.thumbnailClick.call(this,j);i(this).attr("href")||sa(f)});Q++}R=v.find(".thumbnail-wrapper").outerWidth(true);
S=v.find(".thumbnail-wrapper").outerHeight(true);T=Math.ceil(Q/(a.settings.maximumVisibleThumbnails*F));if(a.settings.thumbnailOrientation=="horizontal"){v.css({height:S*F,width:R*a.settings.maximumVisibleThumbnails});I.css({height:S*F,width:R*a.settings.maximumVisibleThumbnails})}else{v.css({width:R*F,height:S*a.settings.maximumVisibleThumbnails});I.css({width:R*F,height:S*a.settings.maximumVisibleThumbnails})}a.settings.thumbnailArrows&&Yb();a.settings.thumbnailButtons&&ub();a.settings.thumbnailScrollbar&&
Zb();a.settings.thumbnailMouseScroll&&ya();a.settings.thumbnailMouseWheel&&vb();a.settings.thumbnailTooltip&&i('<div class="advanced-slider-tooltip"><div class="content"></div></div>').hide().appendTo(i("body"));Za();if(a.settings.thumbnailScrollerToggle){v.css({opacity:0});v.hover(function(){w?v.css("filter",""):v.stop().animate({opacity:1},a.settings.thumbnailScrollerShowDuration)},function(){w?v.css("opacity",0):v.stop().animate({opacity:0},a.settings.thumbnailScrollerHideDuration)})}}function Za(){if(a.settings.thumbnailOrientation==
"horizontal"){var b=a.settings.thumbnailArrows?parseInt(v.css("paddingLeft"))+parseInt(v.css("paddingRight")):0;Y=Math.ceil(Q/F)*R;W=a.settings.thumbnailScrollerResponsive?Math.max(a.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Q/F),a.settings.maximumVisibleThumbnails,Math.floor((u.outerWidth()-b)/R))):Math.min(Q,a.settings.maximumVisibleThumbnails);v.css("width",R*W);I.css("width",R*W)}else{b=a.settings.thumbnailArrows?parseInt(v.css("paddingTop"))+parseInt(v.css("paddingBottom")):0;Y=Math.ceil(Q/
F)*S;W=a.settings.thumbnailScrollerResponsive?Math.max(a.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Q/F),a.settings.maximumVisibleThumbnails,Math.floor((u.outerHeight()-b)/S))):Math.min(Q,a.settings.maximumVisibleThumbnails);v.css("height",W*S);I.css("height",W*S)}if(a.settings.thumbnailScrollerCenter)if(a.settings.thumbnailOrientation=="horizontal")v.css("left",(J.outerWidth()-v.outerWidth())/2);else a.settings.thumbnailOrientation=="vertical"&&v.css("top",(u.outerHeight()-v.outerHeight())/
2);if(wb!=W){wb=W;T=Math.ceil(Q/(W*F));a.settings.thumbnailButtons&&a.settings.thumbnailScrollerResponsive&&ub();if(a.settings.thumbnailScrollbar&&a.settings.thumbnailScrollerResponsive)if(a.settings.thumbnailOrientation=="horizontal"){D.css("width",v.width());Pa.css("width",D.width()-thumbnailScrollerScrollbarEdgeSize);D.css("left",(v.outerWidth()-D.width())/2)}else{D.css("height",v.height());Pa.css("height",D.height()-thumbnailScrollerScrollbarEdgeSize);D.css("top",(v.outerHeight()-D.height())/
2)}ga(O)}}function Yb(){ca=i('<div class="arrows"></div>').appendTo(v);var b=i('<a class="previous"></a>').click(function(){xb()}).appendTo(ca),e=i('<a class="next"></a>').click(function(){yb()}).appendTo(ca);if(a.settings.thumbnailOrientation=="horizontal"){b.css({top:Math.round((S*F-b.height())/2)});e.css({top:Math.round((S*F-e.height())/2)})}else{b.css({left:Math.round((R*F-b.width())/2)});e.css({left:Math.round((R*F-e.width())/2)})}if(a.settings.thumbnailArrowsToggle){i.browser.msie?ca.hide():
ca.css("opacity",0);v.hover(function(){i.browser.msie?ca.show():ca.stop().animate({opacity:1},a.settings.thumbnailArrowsShowDuration)},function(){i.browser.msie?ca.hide():ca.stop().animate({opacity:0},a.settings.thumbnailArrowsHideDuration)})}}function ub(){if(!E){E=i('<div class="buttons"></div>').appendTo(v);if(a.settings.thumbnailButtonsToggle){w?E.hide():E.css("opacity",0);v.hover(function(){w?E.show():E.stop().animate({opacity:1},a.settings.thumbnailButtonsShowDuration)},function(){w?E.hide():
E.stop().animate({opacity:0},a.settings.thumbnailButtonsShowDuration)})}}if(T==1)E.empty();else if(E.find(".buttons a").length!=T&&T>1){E.empty();for(var b,e=0;e<T;e++){var d=i('<a rel="'+e+'"></a>').appendTo(E);if(a.settings.thumbnailOrientation=="horizontal"){b=d.outerWidth(true);d.css("left",e*b)}else{b=d.outerHeight(true);d.css("top",e*b)}d.bind({mouseover:function(){i(this).hasClass("select")||i(this).addClass("over")},mouseout:function(){i(this).hasClass("select")||i(this).removeClass("over")},
click:function(){var g=parseInt(i(this).attr("rel"));ga(g)}})}if(a.settings.thumbnailOrientation=="horizontal"){E.css("top",S*F);E.css("width",b*T);E.css("height",b);v.css("height",Math.max(v.height(),E.position().top+E.outerHeight(true)))}else{E.css("left",R*F);E.css("height",b*T);E.css("width",b);v.css("width",Math.max(v.width(),E.position().left+E.outerWidth(true)))}if(O>T-1)O=T-1;E.find("a").eq(O).addClass("select")}a.settings.thumbnailOrientation=="horizontal"?E.css("left",(v.outerWidth()-E.outerWidth())/
2):E.css("top",(v.outerHeight()-E.outerHeight())/2)}function yb(){if(O<T-1){O++;ga(O)}else ga(0)}function xb(){if(O>0){O--;ga(O)}else ga(T-1)}function ga(b){var e=a.settings.thumbnailOrientation=="horizontal"?I.width():I.height(),d=b*e;O=b;if(O==T-1)d=Y-e;cb();P.animate(a.settings.thumbnailOrientation=="horizontal"?{left:-d}:{top:-d},{duration:a.settings.thumbnailScrollDuration,easing:a.settings.thumbnailScrollEasing,step:function(){Qa()},complete:function(){db()}});if(a.settings.thumbnailButtons){e=
v.find(".buttons");e.find(".select").removeClass("select");e.find("a").eq(b).removeClass("over").addClass("select")}}function ib(){zb=setInterval(function(){if(Ab!=Ya){Ab=Ya;if(Ra){clearTimeout(eb);Ra=false}if(fb){fb=false;if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?o.find(".slide-arrows a").stop().show():o.find(".slide-arrows a").stop().animate({opacity:1},a.settings.slideArrowsShowDuration);if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?o.find(".slideshow-controls").stop().show():
o.find(".slideshow-controls").stop().animate({opacity:1},a.settings.slideshowControlsShowDuration);if(a.settings.slideButtons&&a.settings.slideButtonsToggle)w?o.find(".slide-buttons").stop().show():o.find(".slide-buttons").stop().animate({opacity:1},a.settings.slideButtonsShowDuration)}}else if(!Ra){Ra=true;eb=setTimeout(function(){fb=true;if(a.settings.slideArrows&&a.settings.slideArrowsToggle)w?o.find(".slide-arrows a").stop().hide():o.find(".slide-arrows a").stop().animate({opacity:0},a.settings.slideArrowsHideDuration);
if(a.settings.slideshowControls&&a.settings.slideshowControlsToggle)w?o.find(".slideshow-controls").stop().hide():o.find(".slideshow-controls").stop().animate({opacity:0},a.settings.slideshowControlsHideDuration);if(a.settings.slideButtons&&a.settings.slideButtonsToggle)w?o.find(".slide-buttons").stop().hide():o.find(".slide-buttons").stop().animate({opacity:0},a.settings.slideButtonsHideDuration)},a.settings.autoToggleDelay)}},500)}function jb(){clearInterval(zb);clearTimeout(eb)}function ya(){a.settings.thumbnailMouseScroll=
true;var b=0,e=false,d=I.offset().top,g=I.offset().left,h=I.width(),c=I.height(),f=a.settings.thumbnailOrientation=="horizontal"?h:c,j=a.settings.thumbnailOrientation=="horizontal"?g:d,r=a.settings.thumbnailOrientation=="horizontal"?"left":"top",n=parseInt(P.css(r));Sa=setInterval(function(){if(!e){e=true;d=I.offset().top;g=I.offset().left;h=I.width();c=I.height()}if(aa>g&&aa<g+h&&ba>d&&ba<d+c){b=Math.round((-((Y-f+200)*(((a.settings.thumbnailOrientation=="horizontal"?aa:ba)-j)/f))+100-n)*a.settings.thumbnailMouseScrollSpeed/
100);n+=b}else if(Math.abs(b)>0.1){b*=a.settings.thumbnailMouseScrollEase/100;n+=b}else b=0;if(Math.abs(b)>0){if(n>=0)n=0;else if(n<=f-Y)n=f-Y;Qa();P.css(r,n)}},30)}function vb(){a.settings.thumbnailMouseWheel=true;var b=0,e=a.settings.thumbnailMouseWheelReverse?-1:1,d,g=a.settings.thumbnailOrientation=="horizontal"?"left":"top",h=a.settings.thumbnailOrientation=="horizontal"?I.width():I.height();I.bind("mousewheel",function(c,f){c.preventDefault();if(!Ta){cb();Ta=true;b=d=parseInt(P.css(g));Ua=setInterval(function(){if(Math.abs(b-
d)>0.5){d+=(b-d)*(a.settings.thumbnailMouseWheelSpeed/100);Qa();P.css(g,d)}else db()},30)}b+=e*f*10;if(b>=0)b=0;else if(b<=h-Y)b=h-Y})}function Zb(){function b(){n=(a.settings.thumbnailOrientation=="horizontal"?aa:ba)-oa.offset()[x]-q;e()}function e(){if(n<0)n=0;else if(n>parseInt(oa.css(p))-parseInt(r.css(p)))n=parseInt(oa.css(p))-parseInt(r.css(p));Ca&&r.css(x,n);t=n/(parseInt(oa.css(p))-parseInt(r.css(p)));if(!Va){cb();Va=true;k=parseInt(P.css(x));gb=setInterval(function(){if(Math.abs(Bb()+t)>
0.0010){var B=(-t*(Y-parseInt(I.css(p)))-k)*a.settings.thumbnailScrollbarEase/100;k+=B;Qa();P.css(x,k)}else Va&&db()},30)}}D=i('<div class="scrollbar"></div>').appendTo(v);var d=i('<div class="back"></div>').appendTo(D),g=i('<div class="track"></div>').appendTo(D),h=i('<div class="forward"></div>').appendTo(D),c=i('<div class="track-middle"></div>').appendTo(g),f=i('<div class="track-back"></div>').appendTo(g),j=i('<div class="track-forward"></div>').appendTo(g),r=i('<div class="thumb"></div>').appendTo(g);
i('<div class="thumb-middle"></div>').appendTo(r);i('<div class="thumb-back"></div>').appendTo(r);i('<div class="thumb-forward"></div>').appendTo(r);var n=0,q,t=0,k=0,p=a.settings.thumbnailOrientation=="horizontal"?"width":"height",x=a.settings.thumbnailOrientation=="horizontal"?"left":"top";D.addClass(a.settings.scrollbarSkin);oa=g;if(a.settings.thumbnailOrientation=="horizontal"){D.addClass("horizontal");D.css({top:S*F,left:(v.outerWidth()-D.width())/2});v.css("height",Math.max(v.height(),D.position().top+
D.outerHeight(true)))}else{D.addClass("vertical");D.css({left:R*F,top:(v.outerHeight()-D.height())/2});v.css("width",Math.max(v.width(),D.position().left+D.outerWidth(true)))}if(d.width()==0&&h.width()==0){Pa=c;thumbnailScrollerScrollbarEdgeSize=a.settings.thumbnailOrientation=="horizontal"?f.width()+j.width():f.height()+j.height()}else{Pa=g;thumbnailScrollerScrollbarEdgeSize=a.settings.thumbnailOrientation=="horizontal"?d.width()+h.width():d.height()+h.height()}if(a.settings.thumbnailScrollbarToggle){w?
D.hide():D.css("opacity",0);v.hover(function(){w?D.show():D.stop().animate({opacity:1},a.settings.thumbnailScrollbarShowDuration)},function(){w?D.hide():D.stop().animate({opacity:0},a.settings.thumbnailScrollbarShowDuration)})}r.bind("mousedown",function(B){B.preventDefault();q=(a.settings.thumbnailOrientation=="horizontal"?aa:ba)-r.offset()[x];Ca=true;i(document).bind("mousemove",b)});i(document).bind("mouseup",function(){if(Ca){Ca=false;i(document).unbind("mousemove",b)}});d.bind("click",function(){n=
parseInt(r.css(x))-a.settings.scrollbarArrowScrollAmount;e()});h.bind("click",function(){n=parseInt(r.css(x))+a.settings.scrollbarArrowScrollAmount;e()})}function Bb(){var b=a.settings.thumbnailOrientation=="horizontal"?"width":"height";return parseFloat(P.css(a.settings.thumbnailOrientation=="horizontal"?"left":"top"))/(Y-parseInt(I.css(b)))}function xa(){Sa&&clearInterval(Sa);if(Ua){Ta=false;clearInterval(Ua)}if(gb){Va=false;clearInterval(gb)}}function cb(){xa();P&&P.is(":animated")&&P.stop()}function db(){xa();
a.settings.thumbnailMouseScroll&&ya()}function Qa(){if(a.settings.thumbnailScrollbar&&!Ca){var b=oa.find(".thumb"),e=a.settings.thumbnailOrientation=="horizontal"?"left":"top",d=a.settings.thumbnailOrientation=="horizontal"?"width":"height";d=parseInt(oa.css(d))-parseInt(b.css(d));var g=-Bb()*d;g>=0&&g<=d&&b.css(e,g)}}function Wb(b){b=v.find('.thumbnail[data-index="'+b+'"]');var e=b.attr("title");if(e){var d=i("body").find(".advanced-slider-tooltip");b.removeAttr("title");d.find(".content").html(e);
var g=d.outerWidth()/2,h=d.outerHeight()+parseInt(d.css("marginBottom"));d.css({left:aa,top:ba});d.stop(false,true).fadeIn(a.settings.tooltipShowDuration);i(document).bind("mousemove.tooltip",function(){d.css({left:aa-g,top:ba-h})})}}function Xb(b){var e=i("body").find(".advanced-slider-tooltip"),d=e.find(".content").html();b=v.find('.thumbnail[data-index="'+b+'"]');if(d){b.attr("title",d);e&&e.stop(false,true).fadeOut(a.settings.tooltipHideDuration,function(){i(document).unbind("mousemove.tooltip");
e.css("left",-9999)})}}function Sb(b,e,d,g){var h=[],c,f,j=0;switch(e){case "randomPattern":for(d=[];b.length;){j=Math.floor(Math.random()*b.length);d.push(b[j]);b.splice(j,1)}var r=d.length;for(e=0;e<r;e++)h[e]=d[e];break;case "topToBottom":for(f=0;f<g;f++)for(c=0;c<d;c++)h.push(l(b,c,f));break;case "bottomToTop":for(f=g-1;f>=0;f--)for(c=d-1;c>=0;c--)h.push(l(b,c,f));break;case "rightToLeft":for(c=d-1;c>=0;c--)for(f=g-1;f>=0;f--)h.push(l(b,c,f));break;case "leftToRight":for(c=0;c<d;c++)for(f=0;f<
g;f++)h.push(l(b,c,f));break;case "topLeftToBottomRight":for(e=0;e<d+g-1;e++){f=0;for(c=e;c>=0;c--){l(b,c,f)!=undefined&&h.push(l(b,c,f));f++}}break;case "bottomLeftToTopRight":j=d>g?d:g;for(e=d-1;e>=1-j;e--){c=0;for(f=e;f<=d-1;f++){l(b,c,f)!=undefined&&h.push(l(b,c,f));c++}}break;case "topRightToBottomLeft":j=d>g?d:g;for(e=d-1;e>=1-j;e--){c=e;for(f=0;f<=g-1;f++){l(b,c,f)!=undefined&&h.push(l(b,c,f));c++}}break;case "bottomRightToTopLeft":for(e=g+d-2;e>=0;e--){f=0;for(c=e;c>=0;c--){l(b,c,f)!=undefined&&
h.push(l(b,c,f));f++}}break;case "horizontalMarginToCenter":if(d%2){for(c=0;c<Math.floor(d/2);c++)for(f=0;f<g;f++){h.push(l(b,c,f));h.push(l(b,d-1-c,f))}for(e=0;e<g;e++)h.push(l(b,Math.floor(d/2),e))}else for(c=0;c<Math.floor(d/2);c++)for(f=0;f<g;f++){h.push(l(b,c,f));h.push(l(b,d-1-c,f))}break;case "horizontalCenterToMargin":if(d%2)for(e=0;e<g;e++)h.push(l(b,Math.floor(d/2),e));for(c=Math.floor(d/2)-1;c>=0;c--)for(f=0;f<g;f++){h.push(l(b,c,f));h.push(l(b,d-1-c,f))}break;case "verticalMarginToCenter":if(g%
2){for(f=0;f<Math.floor(g/2);f++)for(c=0;c<d;c++){h.push(l(b,c,f));h.push(l(b,c,g-1-f))}for(e=0;e<d;e++)h.push(l(b,e,Math.floor(g/2)))}else for(f=0;f<Math.floor(g/2);f++)for(c=0;c<d;c++){h.push(l(b,c,f));h.push(l(b,c,g-1-f))}break;case "verticalCenterToMargin":if(g%2)for(e=0;e<d;e++)h.push(l(b,e,Math.floor(g/2)));for(f=Math.floor(g/2)-1;f>=0;f--)for(c=0;c<d;c++){h.push(l(b,c,f));h.push(l(b,c,g-1-f))}break;case "skipOneTopToBottom":for(f=0;f<g;f++){for(c=j;c<d;c+=2)h.push(l(b,c,f));j==0?j=1:j=0}j=
1;for(f=0;f<g;f++){for(c=j;c<d;c+=2)h.push(l(b,c,f));j==0?j=1:j=0}break;case "skipOneBottomToTop":for(f=g-1;f>=0;f--){for(c=j;c<d;c+=2)h.push(l(b,c,f));j==0?j=1:j=0}j=1;for(f=g-1;f>=0;f--){for(c=j;c<d;c+=2)h.push(l(b,c,f));j==0?j=1:j=0}break;case "skipOneLeftToRight":for(c=0;c<d;c++){for(f=j;f<g;f+=2)h.push(l(b,c,f));j==0?j=1:j=0}j=1;for(c=0;c<d;c++){for(f=j;f<g;f+=2)h.push(l(b,c,f));j==0?j=1:j=0}break;case "skipOneRightToLeft":for(c=d-1;c>=0;c--){for(f=j;f<g;f+=2)h.push(l(b,c,f));j==0?j=1:j=0}j=
1;for(c=d-1;c>=0;c--){for(f=j;f<g;f+=2)h.push(l(b,c,f));j==0?j=1:j=0}break;case "skipOneVertical":if(g%2)for(f=0;f<g;f++){for(c=j;c<d;c+=2){if(f==Math.floor(g/2)){f++;for(e=1-d%2;e<d;e+=2){h.push(l(b,e,Math.floor(g/2)));l(b,e-1,Math.floor(g/2))!=undefined&&h.push(l(b,e-1,Math.floor(g/2)))}}h.push(l(b,c,f));h.push(l(b,c,g-f-1))}j==0?j=1:j=0}else for(f=0;f<g;f++){for(c=j;c<d;c+=2){h.push(l(b,c,f));h.push(l(b,c,g-f-1))}j==0?j=1:j=0}break;case "skipOneHorizontal":if(d%2)for(c=0;c<d;c++){for(f=j;f<g;f+=
2){if(c==Math.floor(d/2)){c++;for(e=1-g%2;e<g;e+=2){h.push(l(b,Math.floor(d/2),e));l(b,Math.floor(d/2),e-1)!=undefined&&h.push(l(b,Math.floor(d/2),e-1))}}h.push(l(b,c,f));h.push(l(b,d-1-c,f))}j==0?j=1:j=0}else for(c=0;c<d;c++){for(f=j;f<g;f+=2){h.push(l(b,c,f));h.push(l(b,d-1-c,f))}j==0?j=1:j=0}break;case "spiralMarginToCenterCW":var n=d,q=g,t,k=0,p=g<d?g:d;r=Math.floor(p/2);for(t=0;t<r;t++){for(c=k++;c<n;c++)h.push(l(b,c,k-1));n--;for(f=k;f<q;f++)h.push(l(b,d-k,f));q--;for(e=n;e>=d-n;e--)h.push(l(b,
e-1,q));for(j=q-1;j>=g-q;j--)h.push(l(b,k-1,j))}if(p%2){if(p==g)for(c=k++;c<n;c++)h.push(l(b,c,k-1));if(p==d)for(f=k++;f<q;f++)h.push(l(b,d-k,f))}break;case "spiralMarginToCenterCCW":n=d;q=g;k=0;p=g<d?g:d;r=Math.floor(p/2);for(t=0;t<r;t++){for(f=k++;f<q;f++)h.push(l(b,k-1,f));q--;for(c=k;c<n;c++)h.push(l(b,c,g-k));n--;for(e=q;e>=g-q;e--)h.push(l(b,n,e-1));for(j=n-1;j>=d-n;j--)h.push(l(b,j,k-1))}if(p%2){if(p==g)for(c=k++;c<n;c++)h.push(l(b,c,g-k));if(p==d)for(f=k++;f<q;f++)h.push(l(b,k-1,f))}break;
case "spiralCenterToMarginCCW":n=d;q=g;k=0;p=g<d?g:d;r=Math.floor(p/2);for(t=0;t<r;t++){for(c=k++;c<n;c++)h.push(l(b,c,k-1));n--;for(f=k;f<q;f++)h.push(l(b,d-k,f));q--;for(e=n;e>=d-n;e--)h.push(l(b,e-1,q));for(j=q-1;j>=g-q;j--)h.push(l(b,k-1,j))}if(p%2){if(p==g)for(c=k++;c<n;c++)h.push(l(b,c,k-1));if(p==d)for(f=k++;f<q;f++)h.push(l(b,d-k,f))}h.reverse();break;case "spiralCenterToMarginCW":n=d;q=g;k=0;p=g<d?g:d;r=Math.floor(p/2);for(t=0;t<r;t++){for(f=k++;f<q;f++)h.push(l(b,k-1,f));q--;for(c=k;c<n;c++)h.push(l(b,
c,g-k));n--;for(e=q;e>=g-q;e--)h.push(l(b,n,e-1));for(j=n-1;j>=d-n;j--)h.push(l(b,j,k-1))}if(p%2){if(p==g)for(c=k++;c<n;c++)h.push(l(b,c,g-k));if(p==d)for(f=k++;f<q;f++)h.push(l(b,k-1,f))}h.reverse();break;default:for(d=[];b.length;){j=Math.floor(Math.random()*b.length);d.push(b[j]);b.splice(j,1)}r=d.length;for(e=0;e<r;e++)h[e]=d[e]}return h}function l(b,e,d){return i.grep(b,function(g){return g.data("hPos")==e&&g.data("vPos")==d})[0]}function ta(b){return b[Math.floor(Math.random()*b.length)]}function Ba(b){return isNaN(b)?
b:parseInt(b)}function ua(b){var e=parseInt(b.substring(1,3),16),d=parseInt(b.substring(3,5),16);b=parseInt(b.substring(5,7),16);return{red:e,green:d,blue:b}}this.settings=i.extend({},i.fn.advancedSlider.defaults,U);var o=i(Z),a=this,s=-1,C=-1,fa=-1,y=[],A=[],G=0,ra=0,ma=null,L=false,V=false,wa=false,pa=false,ia=false,Wa=false,K=false,X=0,bb=0,N,Na=0,Oa=0,Q=0,W=0,wb=0,Y,v,I,P,R,S,ca,E,D,oa,Pa,O=0,T=0,F=0,Sa,Ua,Ta=false,gb,Ca=false,Va=false,aa,ba,Ab=0,Ya=0,zb,eb=0,Ra=false,fb=false,rb=true,ja="",Aa=
0,za=null,J,u,m,lb,mb,kb=0,La,pb,w=i.browser.msie&&parseInt(i.browser.version)<9,Eb=navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPod/i)!=null||navigator.userAgent.match(/iPhone/i)!=null,va=false,ka="off",Da=["alignType","effectType","sliceEffectType","sliceDelay","sliceDuration","sliceEasing","horizontalSlices","verticalSlices","slicePattern","slicePoint","sliceStartPosition","sliceStartRatio","sliceFade","captionSize","captionPosition","captionShowEffectDuration","captionShowEffectEasing",
"captionHideEffectDuration","captionHideEffectEasing","captionShowEffect","captionHideEffect","captionLeft","captionTop","captionWidth","captionHeight","captionShowSlideDirection","captionHideSlideDirection","captionBackgroundColor","captionBackgroundOpacity","slideshowDelay","slideMask","slideDirection","slideDuration","slideEasing","slideLoop","fadeInDuration","fadeOutDuration","fadeInEasing","fadeOutEasing","fadePreviousSlide","fadePreviousSlideDuration","thumbnailType","captionDelay","htmlDuringTransition"];
(function(){if(a.settings.xmlSource){o.empty();i.ajax({type:"GET",url:a.settings.xmlSource,dataType:i.browser.msie?"text":"xml",success:function(b){var e,d;if(i.browser.msie){e=new ActiveXObject("Microsoft.XMLDOM");e.async=false;e.loadXML(b)}else e=b;m=i('<ul class="slides"></ul>').appendTo(o);d=i(e).find("slider");i(e).find("slide").each(function(g){var h=i('<li class="slide"></li>').appendTo(m),c=i(this),f=c.find("image"),j=c.find("thumbnail"),r=c.find("caption"),n=c.find("html"),q=c.find("link"),
t=c.find("thumbnailLink"),k=f.length||c.attr("data-image"),p,x;c.attr("data-image")&&h.attr("data-image",c.attr("data-image"));if(k&&q.length)p=i("<a></a>").attr("href",q.text()).attr("title",q.attr("title")?q.attr("title"):"").attr("target",q.attr("target")?q.attr("target"):"_self").attr("rel",(q.attr("type")=="slider-lightbox"?q.attr("type"):"")+(q.attr("group")?"["+q.attr("group")+"]":"")).appendTo(h);if(f.length)i("<img/>").attr("src",f.text()).attr("class","image").attr("alt",f.attr("alt")?f.attr("alt"):
"").attr("title",f.attr("title")?f.attr("title"):"").appendTo(p?p:h);if(j.length&&t.length)x=i("<a></a>").attr("href",t.text()).attr("title",t.attr("title")?t.attr("title"):"").attr("target",t.attr("target")?t.attr("target"):"_self").attr("rel",(t.attr("type")=="slider-lightbox"?t.attr("type"):"")+(t.attr("group")?"["+t.attr("group")+"]":"")).appendTo(h);if(j.length)i("<img/>").attr("src",j.text()).attr("class","thumbnail").attr("alt",j.attr("alt")?j.attr("alt"):"").attr("title",j.attr("title")?j.attr("title"):
"").appendTo(x?x:h);if(r.length)i("<div></div>").html(r.text()).attr("class","caption").appendTo(r.attr("parent")=="link"&&p?p:h);n.length&&i("<div></div>").html(n.text()).attr("class","html").appendTo(h);h.properties={};for(c=0;c<Da.length;c++){f=Da[c];h.properties[f]=U.slideProperties&&U.slideProperties[g]&&U.slideProperties[g][f]?U.slideProperties[g][f]:i(this).attr(f)?i(this).attr(f):U[f]?U[f]:d.attr(f)?d.attr(f):i.fn.advancedSlider.defaults[f]}y.push(h)});$();b={type:"xmlLoaded",data:e};i.isFunction(a.settings.xmlLoaded)&&
a.settings.xmlLoaded.call(this,b)}})}else $()})();this.nextSlide=ea;this.previousSlide=la;this.gotoSlide=sa;this.startSlideshow=ob;this.stopSlideshow=Fa;this.pauseSlideshow=ha;this.resumeSlideshow=qa;this.scrollToThumbnailPage=ga;this.scrollToNextThumbnailPage=yb;this.scrollToPreviousThumbnailPage=xb;this.startThumbnailMouseScroll=ya;this.stopThumbnailMouseScroll=function(){a.settings.thumbnailMouseScroll=false;clearInterval(Sa)};this.startThumbnailMouseWheel=vb;this.stopThumbnailMouseWheel=function(){Ta=
a.settings.thumbnailMouseWheel=false;clearInterval(Ua)};this.startAutoToggle=ib;this.stopAutoToggle=jb;this.doSliderLayout=Ea;this.getSlideshowState=function(){return N};this.getCurrentIndex=function(){return s};this.getSlideAt=function(b){return y[b]};this.getTriggerType=function(){return ja};this.isTransition=function(){return L};this.totalSlides=function(){return G};this.getSize=function(){return{sliderWidth:o.width(),sliderHeight:o.height(),slideWidth:u.width(),slideHeight:u.height()}};this.destroy=
function(){Fa();xa();i(document).unbind("mousemove");i(document).unbind("mousemove.tooltip")}}i.fn.advancedSlider=function(Z){for(var U=[],$=0;$<this.length;$++){if(!this[$].advancedslider)this[$].advancedslider=new Cb(this[$],Z);U.push(this[$].advancedslider)}return U.length>1?U:U[0]};i.fn.advancedSlider.defaults={xmlSource:null,width:500,height:300,aspectRatio:-1,skin:"pixel",scrollbarSkin:"scrollbar-1",shadow:true,alignType:"centerCenter",scaleType:"outsideFit",allowScaleUp:false,preloadNearbyImages:false,
slideStart:0,shuffle:false,slideshow:true,slideshowDelay:5E3,slideshowDirection:"next",slideshowLoop:true,slideshowControls:false,slideshowControlsToggle:true,slideshowControlsShowDuration:500,slideshowControlsHideDuration:500,pauseSlideshowOnHover:false,slideArrows:true,slideArrowsToggle:true,slideArrowsShowDuration:500,slideArrowsHideDuration:500,slideButtons:true,slideButtonsNumber:false,slideButtonsToggle:false,slideButtonsShowDuration:500,slideButtonsHideDuration:500,slideButtonsCenter:true,
slideButtonsContainerCenter:true,keyboardNavigation:false,keyboardNavigationOnFocusOnly:false,autoToggle:false,autoToggleDelay:5E3,timerAnimation:true,timerAnimationControls:true,timerFadeDuration:500,timerToggle:false,timerRadius:18,timerStrokeColor1:"#000000",timerStrokeColor2:"#FFFFFF",timerStrokeOpacity1:0.5,timerStrokeOpacity2:0.7,timerStrokeWidth1:8,timerStrokeWidth2:4,lightbox:false,lightboxTheme:"pp_default",lightboxOpacity:0.8,lightboxIcon:true,lightboxIconToggle:false,lightboxIconFadeDuration:500,
thumbnailLightboxIcon:true,thumbnailLightboxIconToggle:true,fullscreenControls:false,fullscreenControlsToggle:true,fullscreenControlsShowDuration:500,fullscreenControlsHideDuration:500,fullscreenThumbnailScrollerOverlay:true,fullscreenSlideButtons:false,fullscreenShadow:false,htmlDuringTransition:true,overrideTransition:false,initialEffect:true,effectType:"random",sliceEffectType:"random",sliceDelay:50,sliceDuration:1E3,sliceEasing:"swing",horizontalSlices:5,verticalSlices:3,slicePattern:"random",
slicePoint:"centerCenter",sliceStartPosition:"left",sliceStartRatio:1,slideMask:false,sliceFade:true,fadePreviousSlide:false,fadePreviousSlideDuration:300,slideDirection:"autoHorizontal",slideLoop:false,slideDuration:700,slideEasing:"swing",fadeInDuration:700,fadeOutDuration:700,fadeInEasing:"swing",fadeOutEasing:"swing",swipeOrientation:"horizontal",swipeDuration:700,swipeBackDuration:300,swipeSlideDistance:10,swipeEasing:"swing",swipeMouseDrag:true,swipeTouchDrag:true,swipeGrabCursor:true,swipeThreshold:50,
thumbnailType:"tooltip",thumbnailWidth:80,thumbnailHeight:50,thumbnailSlideAmount:10,thumbnailSlideDuration:300,thumbnailSlideEasing:"swing",thumbnailScrollerToggle:false,thumbnailScrollerResponsive:false,thumbnailScrollerCenter:true,thumbnailScrollerOverlay:false,thumbnailScrollDuration:1E3,thumbnailScrollEasing:"swing",maximumVisibleThumbnails:5,minimumVisibleThumbnails:1,thumbnailOrientation:"horizontal",thumbnailLayers:1,thumbnailTooltip:false,tooltipShowDuration:300,tooltipHideDuration:300,thumbnailCaptionPosition:"bottom",
thumbnailCaptionToggle:true,thumbnailCaptionEffect:"slide",thumbnailCaptionShowDuration:500,thumbnailCaptionHideDuration:500,thumbnailCaptionEasing:"swing",thumbnailScrollbar:false,thumbnailButtons:false,thumbnailArrows:true,thumbnailButtonsToggle:false,thumbnailArrowsToggle:false,thumbnailScrollbarToggle:false,scrollbarArrowScrollAmount:100,thumbnailScrollerHideDuration:500,thumbnailScrollerShowDuration:500,thumbnailArrowsHideDuration:500,thumbnailArrowsShowDuration:500,thumbnailButtonsHideDuration:500,
thumbnailButtonsShowDuration:500,thumbnailScrollbarHideDuration:500,thumbnailScrollbarShowDuration:500,thumbnailSync:true,thumbnailMouseScroll:false,thumbnailMouseScrollEase:90,thumbnailMouseScrollSpeed:10,thumbnailMouseWheel:false,thumbnailMouseWheelSpeed:20,thumbnailMouseWheelReverse:false,thumbnailScrollbarEase:10,captionToggle:false,captionDelay:0,captionSize:70,captionBackgroundOpacity:0.5,captionBackgroundColor:"#000000",captionShowEffect:"slide",captionShowEffectDuration:500,captionShowEffectEasing:"swing",
captionShowSlideDirection:"auto",captionHideEffect:"fade",captionHideEffectDuration:300,captionHideEffectEasing:"swing",captionHideSlideDirection:"auto",captionPosition:"bottom",captionLeft:50,captionTop:50,captionWidth:300,captionHeight:100,videoPlayAction:"stopSlideshow",videoPauseAction:"none",videoEndAction:"startSlideshow",reachVideoAction:"none",leaveVideoAction:"pauseVideo",slideProperties:null,slideOpen:null,slideClick:null,slideMouseOver:null,slideMouseOut:null,thumbnailClick:null,thumbnailMouseOver:null,
thumbnailMouseOut:null,transitionStart:null,transitionComplete:null,videoPlay:null,videoPause:null,videoEnd:null,videoFullscreenChange:null,xmlLoaded:null,doSliderLayout:null}})(jQuery);
